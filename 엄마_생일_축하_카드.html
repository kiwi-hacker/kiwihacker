<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ì—„ë§ˆ ìƒì¼ ì¶•í•˜ ì¹´ë“œ</title>
<style>
body{
  margin:0;
  font-family:"Pretendard","Apple SD Gothic Neo",sans-serif;
  background:radial-gradient(circle at top,#fff0f5,#ffe1e8);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.scene{
  position:relative;
  width:1000px;
  height:560px;
  background:linear-gradient(#ffffff,#fffafa);
  border-radius:30px;
  box-shadow:0 25px 50px rgba(0,0,0,0.25);
  overflow:hidden;
}
.title{
  position:absolute;
  top:18px;
  width:100%;
  text-align:center;
  font-size:32px;
  font-weight:900;
  color:#ff4f7a;
}

/* ===== ì¼€ì´í¬ ===== */
.cake{
  position:absolute;
  left:80px;
  bottom:120px;
  width:300px;
  height:170px;
  background:linear-gradient(#ffffff,#ffe3ec);
  border-radius:0 0 36px 36px;
  box-shadow: inset 0 -14px 0 rgba(0,0,0,0.08);
  cursor:pointer;
}
.cake::before{
  content:"";
  position:absolute;
  top:-55px;
  width:300px;
  height:70px;
  background:linear-gradient(#ffffff,#ffd4e1);
  border-radius:36px;
}
.cream{
  position:absolute;
  top:-25px;
  width:300px;
  height:30px;
  background:repeating-linear-gradient(90deg,#fff,#fff 14px,#ffdbe7 14px,#ffdbe7 28px);
  border-radius:20px;
}
.candle-slot{
  position:absolute;
  top:-90px;
  width:100%;
  display:flex;
  justify-content:center;
  gap:18px;
}
.candle{
  position:relative;
  background:repeating-linear-gradient(45deg,#fff,#fff 3px,#ff8fa3 3px,#ff8fa3 6px);
  border-radius:3px;
}
.candle.big{width:10px;height:48px;}
.candle.small{width:8px;height:32px;}
.flame{
  position:absolute;
  top:-16px;
  left:50%;
  transform:translateX(-50%);
  width:16px;
  height:16px;
  background:radial-gradient(circle at 30% 30%,#fff6b0,#ff9f1c);
  border-radius:50%;
  animation:flicker 1.2s infinite;
}
.flame.off{opacity:0;animation:none;}
@keyframes flicker{
  0%{transform:translateX(-50%) scale(1)}
  50%{transform:translateX(-50%) scale(0.85)}
  100%{transform:translateX(-50%) scale(1)}
}

/* ì´›ë¶ˆ ë´‰íˆ¬ */
.envelope{
  position:absolute;
  left:120px;
  bottom:40px;
  width:180px;
  height:42px;
  background:linear-gradient(#ffd6e1,#ffb9cc);
  border-radius:22px;
  cursor:pointer;
  box-shadow:0 6px 0 #eaa3b7,0 10px 16px rgba(0,0,0,0.2);
}
.candle-options{
  position:absolute;
  left:140px;
  bottom:95px;
  display:none;
  gap:30px;
}
.candle-option{cursor:pointer;}

/* ===== ì„ ë¬¼ ìƒì ===== */
.gift{
  position:absolute;
  right:40px;
  bottom:130px;
  width:170px;
  height:170px;
  background:linear-gradient(135deg,#8fd3f4,#6fbce6);
  border-radius:22px;
  box-shadow:
    inset -6px -6px 0 rgba(255,255,255,0.4),
    inset 6px 6px 0 rgba(0,0,0,0.08),
    0 26px 0 #5aa8d6,
    0 44px 40px rgba(0,0,0,0.35);
  cursor:pointer;
  transition:transform 0.7s ease;
}
.gift.big{transform:translateX(-260px) scale(2);}
.ribbon-v,.ribbon-h{
  position:absolute;
  background:linear-gradient(#ff3b3b,#b80000);
}
.ribbon-v{width:28px;height:170px;left:71px;border-radius:12px;}
.ribbon-h{height:28px;width:170px;top:71px;border-radius:12px;}
.lid{
  position:absolute;
  top:-38px;
  width:170px;
  height:48px;
  background:linear-gradient(#9adcf6,#7fc7ea);
  border-radius:22px;
  transform-origin:bottom center;
  transition:transform 0.7s ease;
}
.gift.open .lid{transform:rotateX(140deg);}
.inside{
  position:absolute;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  gap:26px;
}
.gift.open .inside{display:flex;}
.orange{
  width:90px;
  height:90px;
  background:radial-gradient(circle at 30% 30%,#ffd27f,#ff8c00);
  border-radius:50%;
  position:relative;
}
.orange::before{
  content:"";
  position:absolute;
  top:-10px;
  left:36px;
  width:18px;
  height:14px;
  background:#4caf50;
  border-radius:0 0 10px 10px;
}
.letter-envelope{
  width:110px;
  height:70px;
  background:linear-gradient(#fff8ec,#f2e3c8);
  border-radius:10px;
  cursor:pointer;
  position:relative;
}
.letter-envelope::after{
  content:"LETTER";
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:700;
  color:#a47c3c;
}
.letter{
  position:absolute;
  right:40px;
  top:90px;
  width:360px;
  height:340px;
  background:#fffaf0;
  border-radius:18px;
  padding:26px;
  box-shadow:0 12px 24px rgba(0,0,0,0.25);
  font-size:14.5px;
  line-height:1.8;
  display:none;
  overflow-y:auto;
}
</style>
</head>
<body>
<div class="scene">
  <div class="title">ì—„ë§ˆ ìƒì¼ ì¶•í•˜í•´ìš” ğŸ‰</div>

  <div class="cake" id="cake">
    <div class="cream"></div>
    <div class="candle-slot" id="candleSlot"></div>
  </div>

  <div class="envelope" id="candleEnvelope"></div>
  <div class="candle-options" id="candleOptions">
    <div class="candle-option" data-type="big">
      <div class="candle big"><div class="flame"></div></div>
    </div>
    <div class="candle-option" data-type="small">
      <div class="candle small"><div class="flame"></div></div>
    </div>
  </div>

  <div class="gift" id="gift">
    <div class="lid"></div>
    <div class="ribbon-v"></div>
    <div class="ribbon-h"></div>
    <div class="inside">
      <div class="orange"></div>
      <div class="letter-envelope" id="letterEnv"></div>
    </div>
  </div>

  <div class="letter" id="letter">
 -ì—„ë§ˆê»˜-
ë¨¼ì € ìƒì¼ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤.
í•­ìƒ ì €ë¥¼ ë¨¼ì € ìƒê°í•´ ì£¼ì‹œê³ , ì–¸ì œë‚˜ í•œê²°ê°™ì´ ì œ ê³ì„ ì§€ì¼œì£¼ì…”ì„œ ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.
ì•„ë¹  ê³ì—ì„œë„ í”ë“¤ë¦¼ ì—†ì´ ì €ë¥¼ ë³´í˜¸í•´ ì£¼ì‹œê³ , 
ë§ì—†ì´ ê°ë‹¹í•´ ì˜¤ì‹  ì—„ë§ˆì˜ ìˆ˜ê³ ì™€ í—Œì‹ ì„ ë– ì˜¬ë¦´ ë•Œë§ˆë‹¤
ë§ˆìŒ ê¹Šì´ ê°ì‚¬ì˜ ë§ˆìŒì´ ë“­ë‹ˆë‹¤.
ì—„ë§ˆ ë•ë¶„ì— ì €ëŠ” í˜ë“¤ê³  ë²„ê±°ìš´ ìˆœê°„ë“¤ ì†ì—ì„œë„ ì¢Œì ˆí•˜ì§€ ì•Šê³  ë‹¤ì‹œ ì›ƒì„ ìˆ˜ ìˆì—ˆê³ ,
ë¶€ì¡±í•˜ì§€ë§Œ ìƒˆë¡œìš´ ì¼ì— ë„ì „í•  ìˆ˜ ìˆëŠ” ìš©ê¸°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
ê·¸ ëª¨ë“  ì‹œê°„ë“¤ì´ ê²°ì½” ë‹¹ì—°í•œ ê²ƒì´ ì•„ë‹ˆì—ˆìŒì„, ì´ì œì•¼ ì¡°ê¸ˆì”© ê¹¨ë‹«ê³  ìˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ëŒì´ì¼œë³´ë©´ ì €ëŠ” ì—„ë§ˆê»˜ ê¸°ì¨ë³´ë‹¤ëŠ” ê±±ì •ê³¼ ê·¼ì‹¬ì„ ë” ë§ì´ ì•ˆê²¨ë“œë ¸ê³ ,
ì œëŒ€ë¡œ ëœ ë³´ë‹µì€ì»¤ë…• ë³€ëª…ê³¼ ì‚¬ê³¼ë§Œì„ ë°˜ë³µí•´ ì˜¨ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ê·¸ë™ì•ˆì˜ ë¯¸ìˆ™í•œ ë§ê³¼ í–‰ë™ì— ëŒ€í•´ ì´ ìë¦¬ë¥¼ ë¹Œë ¤ ì‹¬ì‹¬í•œ ì‚¬ê³¼ì˜ ë§ì”€ì„ ë“œë¦½ë‹ˆë‹¤.
ì´ì œë¶€í„°ëŠ” ë§ë¡œë§Œì´ ì•„ë‹Œ í–‰ë™ìœ¼ë¡œ, ì—„ë§ˆì˜ ê¸°ëŒ€ì— ì¡°ê¸ˆì´ë‚˜ë§ˆ ë¶€ì‘í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ ë˜ê³ ì í•©ë‹ˆë‹¤.
í•˜ë£¨ì•„ì¹¨ì— ë‹¬ë¼ì§€ê¸°ëŠ” ì–´ë µê² ì§€ë§Œ,
ì €ì˜ ì¢‹ì§€ ì•Šì€ ìŠµê´€ë“¤ì„ í•˜ë‚˜ì”© ê³ ì³ ë‚˜ê°€ë©° ì—„ë§ˆì˜ ê¿ˆê³¼ í¬ë§ì´ ë  ìˆ˜ ìˆë„ë¡ ë…¸ë ¥í•˜ê² ìŠµë‹ˆë‹¤.
ì–¸ì  ê°€ëŠ” ì œ ìì‹ ì´ ë¶€ë„ëŸ½ì§€ ì•Šì€  ë–³ë–³í•œ ëª¨ìŠµìœ¼ë¡œ ì„œì„œ,
ì˜¤íˆë ¤ ì—„ë§ˆë¥¼ ì§€ì¼œë“œë¦´ ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ ë˜ê² ë‹¤ëŠ” ë‹¤ì§ì„ ì „í•´ë“œë¦½ë‹ˆë‹¤.
ì˜¤ëŠ˜ì€ ì—„ë§ˆê»˜ì„œ ì„¸ìƒì— íƒœì–´ë‚˜ì‹  ë§¤ìš° ì†Œì¤‘í•œ ë‚ ì´ë‹ˆ,
ê·¸ ëˆ„êµ¬ë³´ë‹¤ ì¦ê±°ìš´ í•˜ë£¨ë¥¼ ë³´ë‚´ì…¨ìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤. ê·¸ë™ì•ˆ ì• ì¨ì˜¤ì‹  ë§Œí¼,
ì˜¤ëŠ˜ë§Œí¼ì€ ê±±ì • ë‚´ë ¤ë†“ìœ¼ì‹œê³  ì›ƒìŒì´ ê°€ë“í•˜ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤.
í•­ìƒ ì¡´ê²½í•˜ê³ , ì–¸ì œë‚˜ ì‚¬ë‘í•´ìš”.
ë‹¤ì‹œ í•œ ë²ˆ ìƒì‹ ì„ ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤.
 -ë„ìœ¤ ì˜¬ë¦¼-
  </div>
</div>

<audio id="birthdaySong" src="happy b day.wav"></audio>

<script>
const candleEnvelope=document.getElementById('candleEnvelope');
const candleOptions=document.getElementById('candleOptions');
const candleSlot=document.getElementById('candleSlot');
const cake=document.getElementById('cake');
const song=document.getElementById('birthdaySong');

candleEnvelope.onclick=()=>{
  candleOptions.style.display=candleOptions.style.display==='flex'?'none':'flex';
};

candleOptions.querySelectorAll('.candle-option').forEach(opt=>{
  opt.onclick=()=>{
    const type=opt.dataset.type;
    const candle=document.createElement('div');
    candle.className='candle '+type;
    const flame=document.createElement('div');
    flame.className='flame';
    candle.appendChild(flame);
    candleSlot.appendChild(candle);
  };
});

cake.onclick = () => {
  const bigCandles = document.querySelectorAll('.candle.big').length;
  const smallCandles = document.querySelectorAll('.candle.small').length;

  if (bigCandles === 5 && smallCandles === 8) {
    song.currentTime = 0;
    song.play();
    document.querySelectorAll('.flame').forEach(f => f.classList.remove('off'));
  }
};


song.onended=()=>{
  document.querySelectorAll('.flame').forEach(f=>f.classList.add('off'));
};

const gift=document.getElementById('gift');
const letter=document.getElementById('letter');
let giftState=0;

gift.onclick=()=>{
  if(giftState===0){gift.classList.add('big');giftState=1;}
  else if(giftState===1){gift.classList.add('open');giftState=2;}
  else{gift.className='gift';letter.style.display='none';giftState=0;}
};

document.getElementById('letterEnv').onclick=(e)=>{
  e.stopPropagation();
  letter.style.display='block';
};
</script>
</body>
</html>
